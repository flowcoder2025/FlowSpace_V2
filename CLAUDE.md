# âš ï¸ MANDATORY: Session Start Protocol

> **ClaudeëŠ” ëª¨ë“  ì‘ì—… ì‹œì‘ ì „ ì´ ì„¹ì…˜ì„ ë°˜ë“œì‹œ í™•ì¸í•´ì•¼ í•¨**

## ì „ì—­ ê·œì¹™ ì°¸ì¡° (í•„ìˆ˜)
ë‹¤ìŒ ì „ì—­ CLAUDE.md (`~/.claude/CLAUDE.md`) ê·œì¹™ì„ ì¤€ìˆ˜:
- Git ì»¤ë°‹ ì»¨ë²¤ì…˜: ì˜ì–´ prefix + í•œê¸€ ë³¸ë¬¸ (ì˜ˆ: `feat: ì¸ì¦ ì‹œìŠ¤í…œ ì¶”ê°€`)
- Memory System: ì‚¬ìš©ìê°€ `/mem:load` ìš”ì²­ ì‹œ ì‹¤í–‰
- Epic > Phase > Task ê³„ì¸µ ì¶”ì 
- DocOps: Phase ì™„ë£Œ ì‹œ ìŠ¤í™ ë¬¸ì„œ ìƒì„±

## í”„ë¡œì íŠ¸ ê·œì¹™ ì²´í¬ë¦¬ìŠ¤íŠ¸ (í•„ìˆ˜)
ì‘ì—… ì‹œì‘ ì „ ë‹¤ìŒ í•­ëª© í™•ì¸:
- [ ] **ê²½ê³„ ë¶„ë¦¬**: ë³€ê²½ ì „ "ì´ ì½”ë“œì˜ ê²½ê³„ëŠ” ë¬´ì—‡ì¸ê°€?" ì •ì˜
- [ ] **ëª¨ë“ˆí™”**: `module/index.ts` + `module/internal/` êµ¬ì¡° ì¤€ìˆ˜
- [ ] **ìº¡ìŠí™”**: `index.ts`ë§Œ ì™¸ë¶€ ë…¸ì¶œ, `internal/*` ì§ì ‘ import ê¸ˆì§€
- [ ] **ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©**: 2íšŒ ì´ìƒ ë°˜ë³µ â†’ ë¶„ë¦¬
- [ ] **í•˜ë“œì½”ë”© ê¸ˆì§€**: ìƒìˆ˜ëŠ” `constants/`ë¡œ ë¶„ë¦¬
- [ ] **UTF-8**: ëª¨ë“  íŒŒì¼ UTF-8 (BOM ì—†ìŒ)

## íŒ€ í”„ë¡œí† ì½œ ì²´í¬ë¦¬ìŠ¤íŠ¸ (í•„ìˆ˜ - ìŠ¤í‚µ ê¸ˆì§€)

> **ë„ë©”ì¸ ì‘ì—… ì‹œì‘ ì „ ë°˜ë“œì‹œ í•´ë‹¹ ì—ì´ì „íŠ¸ì˜ ë¬¸ì„œë¥¼ ì½ì–´ì•¼ í•¨**

- [ ] **í˜ë¥´ì†Œë‚˜ í™•ì¸**: `.claude/team/personas/{domain}.md` ì½ê¸°
- [ ] **ì»¨íŠ¸ë™íŠ¸ í™•ì¸**: `.claude/team/contracts/{domain}.md` ì½ê¸°
- [ ] **ê³µìœ  ë¬¸ì„œ í™•ì¸**: ê´€ë ¨ `shared/*.md` ì½ê¸° (event-protocol, data-ownership ë“±)
- [ ] **ì—­í•  ëª…ì‹œ**: ì‘ì—… ì‹œ "ğŸ”§ [Agentëª…] ì—­í• ë¡œ ì‘ì—…" ì‚¬ìš©ìì—ê²Œ ì•Œë¦¬ê¸°
- [ ] **ì»¨íŠ¸ë™íŠ¸ ì¤€ìˆ˜ ë³´ê³ **: ì‘ì—… ì™„ë£Œ ì‹œ ì–´ë–¤ ê·œì¹™ì„ ì¤€ìˆ˜í–ˆëŠ”ì§€ ëª…ì‹œ

### ë„ë©”ì¸ â†’ ì—ì´ì „íŠ¸ ë§¤í•‘
| ì‘ì—… ê²½ë¡œ | Agent | persona | contract |
|-----------|-------|---------|----------|
| `src/features/space/game/`, `src/features/space/avatar/` | Game Engine | `game-engine.md` | `game-engine.md` |
| `src/features/assets/`, `src/lib/comfyui/` | Asset Pipeline | `asset-pipeline.md` | `asset-pipeline.md` |
| `src/features/space/socket/`, `server/` | Communication | `communication.md` | `communication.md` |
| `src/app/`, `src/components/`, `src/stores/` | Frontend | `frontend.md` | `frontend.md` |
| `src/app/api/`, `prisma/`, `src/lib/` | Backend | `backend.md` | `backend.md` |

### êµì°¨ ë„ë©”ì¸ ì‘ì—… ì‹œ
- ë‘ ë„ë©”ì¸ ì´ìƒ ê±¸ì¹˜ëŠ” ì‘ì—… â†’ **ì–‘ìª½ ì»¨íŠ¸ë™íŠ¸ ëª¨ë‘ í™•ì¸**
- shared/ ë¬¸ì„œ ë³€ê²½ í•„ìš” ì‹œ â†’ ë³€ê²½ ì‚¬í•­ ëª…ì‹œ í›„ ì—…ë°ì´íŠ¸

## ìœ„ë°˜ ì‹œ
**ì´ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ í™•ì¸í•˜ì§€ ì•Šê³  ì‘ì—… ì‹œì‘ ì‹œ, ì‚¬ìš©ìì—ê²Œ ê²½ê³  í›„ ì²´í¬ë¦¬ìŠ¤íŠ¸ í™•ì¸**

---

# Project Rules

## Architecture Flow (Core)

```
ê²½ê³„ ë¶„ë¦¬(ê°œë…) â†’ ëª¨ë“ˆí™”(êµ¬ì¡°) â†’ ìº¡ìŠí™”(ì ‘ê·¼ì œì–´)
```

### 1. ê²½ê³„ ë¶„ë¦¬ (Boundary)
- ë³€ê²½ ì „ "ì´ ì½”ë“œì˜ ê²½ê³„ëŠ” ë¬´ì—‡ì¸ê°€?" ë¨¼ì € ì •ì˜
- ìƒˆ ì½”ë“œëŠ” ë°˜ë“œì‹œ íŠ¹ì • ê²½ê³„ì— ì†Œì†

### 2. ëª¨ë“ˆí™” (Module)
- ê²½ê³„ = ëª¨ë“ˆ í´ë”
- êµ¬ì¡°: `module/index.ts` + `module/internal/`

### 3. ìº¡ìŠí™” (Encapsulation)
- `index.ts`ë§Œ ì™¸ë¶€ ë…¸ì¶œ (Public API)
- `internal/*` ì™¸ë¶€ import ê¸ˆì§€

## Structure
```
moduleA/
  index.ts        # Public API
  internal/       # Private
```

---

## Code Quality Rules

### ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš© (Component Reuse)
- **ê°™ì€ UI/ë¡œì§ì´ 2ë²ˆ ì´ìƒ ë‚˜ì˜¤ë©´ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬**
- ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ í™•ì¸ í›„ ìƒˆë¡œ ë§Œë“¤ê¸° (ì¤‘ë³µ ìƒì„± ê¸ˆì§€)
- ê³µí†µ ì»´í¬ë„ŒíŠ¸ëŠ” `shared/` ë˜ëŠ” `common/` ëª¨ë“ˆì— ë°°ì¹˜

```
âŒ ë³µë¶™í•´ì„œ ì—¬ëŸ¬ ê³³ì— ê°™ì€ ì½”ë“œ
âœ… ì»´í¬ë„ŒíŠ¸í™” í›„ importí•´ì„œ ì¬ì‚¬ìš©
```

### í•˜ë“œì½”ë”© ê¸ˆì§€ (No Hardcoding)
- **ë¬¸ìì—´, ìˆ«ì, URL ë“± ì§ì ‘ ì½”ë“œì— ë°•ì§€ ì•Šê¸°**
- ìƒìˆ˜ëŠ” `constants/` ë˜ëŠ” ì„¤ì • íŒŒì¼ë¡œ ë¶„ë¦¬
- í™˜ê²½ë³„ ê°’ì€ í™˜ê²½ë³€ìˆ˜ ì‚¬ìš©

### UTF-8 ì¸ì½”ë”© (Encoding)
- **ëª¨ë“  íŒŒì¼ì€ UTF-8 (BOM ì—†ìŒ) ì €ì¥**
- íŒŒì¼ ì½ê¸°/ì“°ê¸° ì‹œ `utf-8` ëª…ì‹œ
- HTMLì€ `<meta charset="UTF-8">` í•„ìˆ˜

---

## PR Checklist
- [ ] ê²½ê³„(ëª¨ë“ˆ)ëŠ”?
- [ ] internal ì§ì ‘ import ì—†ìŒ?
- [ ] ê³µê°œ API ìµœì†Œí™”?
- [ ] ì¤‘ë³µ ì»´í¬ë„ŒíŠ¸ ì—†ì´ ì¬ì‚¬ìš©?
- [ ] í•˜ë“œì½”ë”©ëœ ê°’ ì—†ìŒ?
