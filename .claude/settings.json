{
  "hooks": {
    "Stop": [
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Check if this session created or modified any source files (.ts, .tsx, .prisma). If yes, respond {\"ok\": false, \"reason\": \"Source files were changed. Run qa-agent to verify quality (tsc, lint, security, boundaries).\"}. If no source files were changed (only docs, config, .md), respond {\"ok\": true}."
          }
        ]
      },
      {
        "hooks": [
          {
            "type": "prompt",
            "prompt": "Check if this session created or modified 3 or more source files (.ts, .tsx, .prisma) as part of feature implementation. If yes, respond {\"ok\": false, \"reason\": \"Significant code changes detected. Run doc-agent to generate or update spec documentation.\"}. If fewer than 3 source files changed or changes are trivial, respond {\"ok\": true}."
          }
        ]
      }
    ]
  }
}
