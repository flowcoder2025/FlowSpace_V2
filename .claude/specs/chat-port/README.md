# Epic: Chat System Port (flow_metaverse → FlowSpace)

> 상태: **완료** | 시작: 2026-02-20 | 완료: 2026-02-20

## 목표
flow_metaverse 원본의 성숙한 채팅 기능을 FlowSpace의 모듈 구조(`internal/` 패턴)에 맞게 포팅.

## 해결한 문제
- 매직넘버 14개 파일에 산재 → 공유 상수 파일로 추출
- URL 감지 없음 → `www.`/도메인 지원 정규식 강화
- 재연결 로직 없음 → 30회 재연결, 지수 백오프, 가시성 처리
- 한글 명령어 없음 → 7쌍 한/영 별칭
- 닉네임 SSOT 없음 → playersMap prop 기반 실시간 해석
- 폰트 크기 조절 없음 → A-/A+ 3단계 순환
- 귓속말 히스토리 없음 → ↑↓ 키 탐색

## Phase 목록
| Phase | 이름 | 상태 |
|-------|------|------|
| 1 | 기반 — 상수 추출 + 타입 확장 | ✅ 완료 |
| 2 | 파서 업그레이드 — 한영 명령어 + 에디터 지원 | ✅ 완료 |
| 3 | 필터 업그레이드 — URL 감지 + 스마트 안읽음 | ✅ 완료 |
| 4 | 소켓 회복력 — 재연결 + 가시성 + 에러 | ✅ 완료 |
| 5 | UI 강화 — 귓속말 히스토리, 폰트, SSOT 닉네임 | ✅ 완료 |
| 6 | 서버 정비 + 통합 검증 | ✅ 완료 |

## 수정 파일 총괄
- **2 신규** + **17 수정** = 19 파일
- `tsc --noEmit` ✅ | `next lint` ✅
